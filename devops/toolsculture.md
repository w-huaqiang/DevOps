# content



## 1. DevOps是一种文化吗？

>在一次内部会议中，架构师问测试负责人测试流程，测试负责人就原原本本说了整个测试过程，其中工作量最大的是UI界面上的测试，而且这个测试没法自动化。架构师就很质疑的说，我都要求了要DevOps，你这个一点都没DevOps。然后，测试负责人反驳说：DevOps是一种理念。

以上是我真是经历的一个会议上两个人的对话。
在探讨今天的主题之前，我想分享另外一个故事。

曾经有一群美国专家到日本参观学习生产流水线。在美国公司的生产线里，总有一个人拿着橡胶锤子在敲打车门，目的是检查车门是否安装完好。但即便如此，车门质量还是很差，但是在日本的工厂里却没有这样的角色。于是他们就好奇的问：你们没有这项检查，如何保障车门没有问题呢？日本的专家回复说：我们在设计之初就考虑了这个方面，保证它不会出问题。

如果在我们软件交付过程中，始终依靠这个拿锤子的人来保障产品质量，而出现问题总是抱怨没有使用锤子的优秀人才，或许这个流程本身就已经有问题了。

那么，从这一点来看，DevOps确实是一种文化。我们不能说日本的生产线流程比美国的流程更好，因为美国可能有更多专业的使用锤子的人，返工成本可能也不是很大。但是就DevOps而言，将质量的反馈放在最后一步确实是我们应该避免的。在最后一步来验证是否有问题会让我们没法判断到底上游流水线哪一步导致的，甚至这一步的问题可能导致其他下游的其他问题，这显然是不满足三步工作法中的第二步。

## 2. DevOps是一种平台工具吗？

当被问到公司是否做到DevOps的时候，我们第一个想到的可能是我们现在使用了什么工具平台。而当前随着DevOps的大火，各种以DevOps命名的工具如雨后春笋搬涌现。这其中还包括各大云厂商，如AWS CodePipeline、Azure DevOps Service，阿里云云效等。

在三步工作法中，我们要完成第一步是“流动”,而其中最核心的就是提高流动效率，工具和自动化就是提高流动效率最直接的手段，让一切都自动化可以说是这一步的终极目标。在软件交付过程中的手动环节，都是未来可以尝试优化的方向。

由于所有人都认可自动化的价值，而且是肉眼可见的东西，相比文化其更能带来明显的价值，所以工具平台的引入就成为了各种团队转型DevOps的第一步。现在各种流水线工具让人应接不暇，你可能也不知一次被问到jenkins和gitlab runner哪个更好一些。

很多公司都引入了完整的敏捷项目管理工具，或者DevOps工具，但是却以传统项目管理方式来使用这套工具。这可能局部优化了某些人的工作，但是着眼全局，并未优化我们的流程，提高我们的效率。比如以前是开发人员手动编译打包，现在使用jenkins编译打包，但是jenkins必须开发人员点一下，这两者没有本质的区别，甚至在点完jenkins之后，有些开发人员会耍一会手机等待。这是目前普遍的现状，大家都是完成了0-1的过程，不过很多时候0和1没有太大区别，只是方式的不同，往往拉开差距的是1-2-3。

如果说引入了强大的DevOps工具就能达到DevOps,让软件交付效率和质量有质级别的提升，那么可能就没有这么多人再研究DevOps了，世界各大公司都顺利做到DevOps转型。

所以，工具是没法解决人的问题，而DevOps的核心就是解决人的问题。

平台工具是DevOps转型必不可少的因素，但是单纯引入工具没法解决根本问题，其实DevOps的必要不充分条件。

## 3. 文化先行还是工具先行

企业内部的DevOps文化本来就是虚无缥缈的东西，我们很难去衡量团队的文化水平，进而改变企业文化。盲目地空谈文化，对组织也是一种伤害，因为脱离实践，文化就毫无意义，此外，当组织因为无法看到DevOps带来实际收益时，就会丧失转型的热情和信心，就像文中开头测试负责人回答架构师的：DevOps是一种理念（这个太难了，我们达不到，我们也不知道啥理念，就知道是一种理念）

所以，我们首先要改变的是行为，通过行为来形成文化。那么具体什么行为呢？就是建议一个机制，这个机制使大家愿意这么去做，做了有好处，比如领导承诺今年公司整体做到DevOps转型，如果转型成功，年终绩效提高15%。

机制的核心就是规则流程，把规则流程内建于工具之中，并且通过工具来指导实践。这样一来我们就不仅仅是没有灵魂的工具，也不是空谈文化的赵括。当团队通过这个规则、流程、工具获得了实实在在的改变，那么大家也有信息拥抱这种变化，享受形成的DevOps文化。

这样我们可以看出，文化不是强调出来的，而是随着工具和规则的引入而形成的。前面提到的，架构师不应该要求团队做事要DevOps，而是要定义规则和流程来达到我们想要的结果。这样测试负责人也不会说DevOps是一种理念，因为她去网上查看什么是DevOps，大家都会告诉她DevOps是一种思想和理念，而这种思想和理念在团队中不好形成。


## 4. DevOps三条大腿


